# 태권도장 차량 운행 관리 웹앱

모바일 환경에서 사용할 수 있는 태권도장 차량 운행 관리 시스템입니다.
운전기사와 도장 관리자가 차량 스케줄을 편하게 확인하고 탑승 여부를 기록할 수 있습니다.

## 주요 기능

### 🚌 메인 페이지 (/today)
- **시간대별 슬라이드 카드**: 가로 슬라이드로 시간대 확인
- **학생 명단 관리**: 버튼 클릭으로 탑승 상태 변경
- **실시간 상태 업데이트**: 탑승/결석/부모픽업/도장하차 상태 관리
- **전체 완료 기능**: 시간대별 일괄 처리

### 👨‍👩‍👧‍👦 학부모 요청 (/parent/absence)
- **결석 신청**: 사유와 날짜 선택
- **직접 등원**: 차량 픽업 스킵 요청
- **도장 픽업**: 차량 하차 스킵 요청
- **기간 설정**: 단일일 또는 기간 설정 가능

### 👨‍💼 관리자 기능
- **요청 관리**: 학부모 요청 승인/거절
- **학생 관리**: 학생 정보 등록/수정
- **스케줄 관리**: 요일별 픽업 시간 설정

## 기술 스택

- **Backend**: Flask 2.3.3, SQLite, SQLAlchemy
- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Deployment**: Render.com

## 설치 및 실행

### 1. 의존성 설치

```bash
# Python 패키지 설치
pip install -r requirements.txt
```

### 2. Flask 앱 실행

```bash
python app.py
```

앱이 실행되면 http://localhost:5000 에서 접속할 수 있습니다.

## 프로젝트 구조

```
06-tkd/
├── app.py                # Flask 메인 앱
├── requirements.txt      # Python 의존성
├── runtime.txt          # Python 버전
├── render.yaml          # 배포 설정
├── templates/           # HTML 템플릿
│   ├── base.html         # 기본 레이아웃
│   ├── today.html        # 메인 페이지
│   ├── parent_absence.html # 학부모 요청 페이지
│   ├── admin_students.html # 관리자 학생 관리
│   └── admin_schedule_manager.html # 관리자 스케줄 관리
└── static/
    └── src/
        └── input.css     # CSS 스타일
```

## 사용법

### 기본 사용 (운전기사/관리자)

1. **메인 페이지 접속**: http://localhost:5000
2. **시간대별 확인**: 상단 시간 버튼으로 이동
3. **학생 탑승 처리**: 학생 이름 클릭
4. **상태 변경**: 결석/부모픽업/도장하차 버튼 사용
5. **전체 완료**: 시간대별 일괄 처리 후 다음 시간대로 이동

### 학부모 요청

1. **요청 페이지 접속**: http://localhost:5000/parent/absence
2. **자녀 선택**: 드롭다운에서 선택
3. **요청 유형 선택**: 결석/직접등원/도장픽업
4. **날짜 및 사유 입력**
5. **요청 제출**: 관리자 승인 대기

### 관리자 기능

1. **학생 관리**: 새 학생 등록, 정보 수정
2. **스케줄 관리**: 요일별 픽업/하차 시간 설정

## 데이터베이스

- **Student**: 학생 정보 (이름, 학년, 연락처, 픽업 장소)
- **Schedule**: 스케줄 정보 (요일, 픽업/하차 시간)
- **Request**: 학부모 요청 (유형, 사유, 기간, 상태)
- **Attendance**: 출석 기록 (날짜, 픽업/하차 상태, 시간)

## 샘플 데이터

첫 실행 시 자동으로 샘플 학생 데이터와 스케줄이 생성됩니다:
- 5명의 샘플 학생 (김태권, 이도장, 박발차기, 최품새, 정겨루기)
- 월/수/금 오후 3시 픽업, 오후 5시 하차 스케줄

## 모바일 최적화

- **반응형 디자인**: 모바일 우선 설계
- **터치 친화적**: 큰 버튼과 간격
- **가로 스크롤**: 시간대별 슬라이드 내비게이션
- **세로 스크롤**: 카드 내 학생 명단
- **PWA 준비**: 메타 태그 및 테마 컬러 적용

## 주의사항

- 이 앱은 초기 프로토타입으로, 보안 기능은 기본적인 수준입니다.
- 실제 운영 시에는 사용자 인증, HTTPS, 데이터 백업 등의 추가 보안 조치가 필요합니다.
- 학부모 요청 폼은 현재 로그인 없이 사용 가능하며, 추후 고유 식별코드 도입 예정입니다.

## 개발자 정보

이 프로젝트는 태권도장 차량 운행의 효율성을 높이기 위해 개발되었습니다.
모바일 환경에서의 사용성을 최우선으로 고려하여 설계되었습니다. 